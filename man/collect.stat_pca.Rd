% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat_pca.R
\name{collect.stat_pca}
\alias{collect.stat_pca}
\title{Collect PC scores from PCA results}
\usage{
\method{collect}{stat_pca}(x, data = NULL, retain = NULL, fold = FALSE, ...)
}
\arguments{
\item{x}{A \code{stat_pca} object}

\item{data}{A tibble. If NULL, uses the original data from the PCA.}

\item{retain}{How many PCs to retain:
\itemize{
\item \code{NULL} (default): All PCs
\item Integer (e.g., \code{5}): First N PCs
\item Numeric 0-1 (e.g., \code{0.95}): PCs explaining this proportion of variance
}}

\item{fold}{How to add PC scores:
\itemize{
\item \code{FALSE} (default): Add as separate columns (\code{PC1}, \code{PC2}, ...)
\item \code{TRUE}: Fold into single list-column named \code{"pca"}
\item Character: Fold into single list-column with this name
}}

\item{...}{Additional arguments (reserved)}
}
\value{
A tibble with PC scores added
}
\description{
Extract PC scores from a PCA result and add them to a tibble.
}
\details{
The \code{retain} parameter allows flexible selection of PCs:
\itemize{
\item \code{retain = NULL}: Keep all PCs
\item \code{retain = 5}: Keep first 5 PCs
\item \code{retain = 0.95}: Keep PCs explaining 95\% of variance
\item \code{retain = 1}: Keep only PC1
}

When \code{fold = TRUE} or a character name, PC scores are stored as a list-column
with class \code{c("pca", "coe")}, making them usable in downstream analyses.
}
\examples{
\dontrun{
pca <- boteft \%>\% stat_pca()

# Add all PCs
collect(pca)

# Add first 5 PCs
collect(pca, retain = 5)

# Add PCs explaining 95\% variance
collect(pca, retain = 0.95)

# Fold into list-column
collect(pca, retain = 5, fold = TRUE)
collect(pca, retain = 5, fold = "pca_scores")
}

}
