% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat_hclust.R
\name{transduce.stat_hclust}
\alias{transduce.stat_hclust}
\title{Transduce hierarchical clustering nodes to shapes}
\usage{
\method{transduce}{stat_hclust}(object, positions)
}
\arguments{
\item{object}{A \code{stat_hclust} object}

\item{positions}{A tibble specifying positions. Can contain:
\itemize{
\item \code{cluster} column: cluster numbers (if tree was cut)
\item \code{node} column: node numbers in the tree (tips are 1:n, internal nodes are n+1:...)
}}
}
\value{
A tibble with reconstructed coefficients and shapes
}
\description{
Reconstruct shapes at cluster centers or at any node in the tree.
}
\details{
For hierarchical clustering, transduce can reconstruct shapes at:

\strong{Cluster centers} (if tree was cut with k or h):

\if{html}{\out{<div class="sourceCode r">}}\preformatted{transduce(hc, tibble(cluster = 1:4))
}\if{html}{\out{</div>}}

Returns the mean shape of each cluster.

\strong{Any node in the tree}:

\if{html}{\out{<div class="sourceCode r">}}\preformatted{transduce(hc, tibble(node = c(45, 50, 55)))
}\if{html}{\out{</div>}}

Returns the mean shape of all descendants of that node. This allows
visualization of "ancestral" shapes at internal nodes.

Node numbering follows \code{\link[stats:hclust]{stats::hclust()}} convention:
\itemize{
\item Nodes 1 to n: original observations (tips)
\item Nodes n+1 to 2n-1: internal nodes from merges
}
}
\examples{
\dontrun{
hc <- boteft \%>\% stat_hclust(k = 4)

# Cluster centers
centers <- transduce(hc, tibble(cluster = 1:4))

# Shapes at internal nodes
hc2 <- boteft \%>\% stat_hclust()
internal <- transduce(hc2, tibble(node = c(45, 50, 55, 60)))

# Root node (all data)
root <- transduce(hc2, tibble(node = 2 * nrow(boteft) - 1))
}

}
